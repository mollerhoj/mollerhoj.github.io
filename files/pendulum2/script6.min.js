'use strict';const a0_0x1ae245=a0_0x5895;(function(_0x456985,_0x40c5b0){const _0x34f872=a0_0x5895,_0x4d14cc=_0x456985();while(!![]){try{const _0x5a7a65=-parseInt(_0x34f872(0x1c6))/0x1+parseInt(_0x34f872(0x1b4))/0x2+parseInt(_0x34f872(0x1b1))/0x3*(-parseInt(_0x34f872(0x17f))/0x4)+parseInt(_0x34f872(0x1d4))/0x5*(parseInt(_0x34f872(0x21f))/0x6)+parseInt(_0x34f872(0x189))/0x7*(parseInt(_0x34f872(0x190))/0x8)+-parseInt(_0x34f872(0x1c2))/0x9*(parseInt(_0x34f872(0x204))/0xa)+parseInt(_0x34f872(0x16f))/0xb;if(_0x5a7a65===_0x40c5b0)break;else _0x4d14cc['push'](_0x4d14cc['shift']());}catch(_0x11b38c){_0x4d14cc['push'](_0x4d14cc['shift']());}}}(a0_0x55f0,0x203a7));const urlParams=new URLSearchParams(window[a0_0x1ae245(0x1f9)][a0_0x1ae245(0x1ba)]),DEBUG=urlParams[a0_0x1ae245(0x1be)]('debug'),canvas=document['querySelector'](a0_0x1ae245(0x21a)),ctx=canvas[a0_0x1ae245(0x19d)]('2d');canvas[a0_0x1ae245(0x1fc)]=window[a0_0x1ae245(0x1eb)],canvas[a0_0x1ae245(0x208)]=window[a0_0x1ae245(0x197)];DEBUG&&(canvas['width']=window['innerWidth']-0x131);document['body'][a0_0x1ae245(0x159)][a0_0x1ae245(0x216)]=0x0,document[a0_0x1ae245(0x179)]['style'][a0_0x1ae245(0x16d)]=0x0,window[a0_0x1ae245(0x1f1)]('resize',()=>{const _0x123675=a0_0x1ae245;canvas[_0x123675(0x1fc)]=window[_0x123675(0x1eb)],canvas['height']=window[_0x123675(0x197)],DEBUG&&(canvas[_0x123675(0x1fc)]=window[_0x123675(0x1eb)]-0x131);});let allLines=[],linesInView=[],particles=[],trailPoints=[],characterPoint={'x':0x584,'y':0xa84},previousCharacterPoint={'x':characterPoint['x'],'y':characterPoint['y']},characterSpriteXScale=0x1,characterSpriteRotation=0x0,characterSpriteImage=null,characterMode=a0_0x1ae245(0x219),characterStance='jump',characterSpriteFrame=0x4,characterLine=null,characterLinePosition=0x0,dx=0x0,dy=0x0,angle=Math['PI']+0.7,releaseAngle=0x0,radius=0x0,angularVelocity=0x0,ropeSegments=[],ropeLength=0x0,orbitPoint=null,bulletPoint=null,previousBulletPoint=null,bulletAngle=null;const cameraLookaheadPoint={'x':0x0,'y':0x0};let cameraPoint={'x':characterPoint['x']+cameraLookaheadPoint['x'],'y':characterPoint['y']+cameraLookaheadPoint['y']},cameraTargetPoint={'x':characterPoint['x']+cameraLookaheadPoint['x'],'y':characterPoint['y']+cameraLookaheadPoint['y']},zoomLevel=null,previousCameraPoint={'x':0x0,'y':0x0};const viewPortMaxWidthInPixels=0x3e8,viewPortMinHeightInPixels=0x320;let characterTilePoint=null;const solidColor=a0_0x1ae245(0x212),tileWidth=0x280,tileHeight=0x1e0,tiles={};let characterSpriteFrameTime=0x0,leftWall=null,rightWall=null,groundLine=null,wallJumpTimer=0x0,leftArrowKeyDown=![],leftArrowKeyPressed=![],rightArrowKeyDown=![],rightArrowKeyPressed=![],upArrowKeyDown=![],downArrowKeyDown=![],spacePressedCount=0x0,bKeyDown=![],previousTimestamp=null,stepAccumulator=0x0,stepCount=0x0,superStepCount=0x0,timeCount=0x0,timeCountStopped=![];const STEP_SIZE=0x3e8/0x3c,MAX_DELTA_TIME=0xfa;let animateStep=0x0,remainingSuperSteps=0x0;const imageFiles={'characterOrbit1':a0_0x1ae245(0x21e),'characterOrbit2':'sprites/Sprite-0002.png','characterOrbit3':'sprites/Sprite-0003.png','characterOrbit4':a0_0x1ae245(0x1fd),'characterLand1':a0_0x1ae245(0x1ee),'characterStand1':a0_0x1ae245(0x19e),'characterRun1':a0_0x1ae245(0x215),'characterRun2':a0_0x1ae245(0x1ca),'characterRun3':a0_0x1ae245(0x1d0),'characterRun4':a0_0x1ae245(0x1dc),'characterRun5':a0_0x1ae245(0x207),'characterRun6':a0_0x1ae245(0x171),'characterRun7':a0_0x1ae245(0x211),'characterRun8':'sprites/Sprite-0014.png','characterJump1':a0_0x1ae245(0x1a6),'characterJump2':a0_0x1ae245(0x1c5),'characterJump3':a0_0x1ae245(0x1ff),'characterJump4':a0_0x1ae245(0x1ed),'characterJump5':a0_0x1ae245(0x1de),'characterJump6':a0_0x1ae245(0x1b9),'characterWallSlide1':a0_0x1ae245(0x16e),'bullet':a0_0x1ae245(0x17c)},soundFiles={'shoot':a0_0x1ae245(0x1e2),'attach':'sounds/double-door-lock-101210-edited.wav','land':a0_0x1ae245(0x192),'impact':a0_0x1ae245(0x180),'bounce11':a0_0x1ae245(0x19c)},audioContext=new(window[(a0_0x1ae245(0x15c))]||window[(a0_0x1ae245(0x1da))])(),audioBuffers={};let soundsLoaded=0x0;const totalSounds=Object[a0_0x1ae245(0x172)](soundFiles)[a0_0x1ae245(0x1c9)];document[a0_0x1ae245(0x1f1)](a0_0x1ae245(0x1c1),()=>{const _0x2485a5=a0_0x1ae245,_0x27ef60=[{'id':_0x2485a5(0x1a0),'value':damping,'min':0.9,'max':0x1,'info':'Speed\x20preserved\x20when\x20rope\x20attached\x20(0.9\x20=\x20high\x20loss,\x201.0\x20=\x20no\x20loss)'},{'id':'thrust','value':thrust,'min':0.01,'max':0.1,'info':_0x2485a5(0x1b8)},{'id':_0x2485a5(0x1aa),'value':orbitGravity,'min':0.1,'max':0x1,'info':_0x2485a5(0x203)},{'id':_0x2485a5(0x20f),'value':descendThrust,'min':0x1,'max':0xa,'info':_0x2485a5(0x19f)},{'id':'ascendThrust','value':ascendThrust,'min':0x1,'max':0x8,'info':_0x2485a5(0x1d7)},{'id':_0x2485a5(0x1c4),'value':maxRopeLength,'min':0x64,'max':0x320,'info':_0x2485a5(0x183)},{'id':_0x2485a5(0x1b5),'value':minRopeLength,'min':0x5,'max':0x64,'info':_0x2485a5(0x163)},{'id':_0x2485a5(0x193),'value':maxOrbitalSpeed,'min':0xa,'max':0x32,'info':_0x2485a5(0x1ae)},{'id':_0x2485a5(0x1f5),'value':bulletSpeed,'min':0x14,'max':0x50,'info':_0x2485a5(0x1e3)},{'id':_0x2485a5(0x205),'value':jumpVelocity,'min':0x5,'max':0xa,'info':_0x2485a5(0x214)},{'id':'wallJumpVelocity','value':wallJumpVelocity,'min':0x4,'max':0x9,'info':_0x2485a5(0x195)},{'id':_0x2485a5(0x177),'value':walkTopSpeed,'min':0x2,'max':0x7,'info':'Horizontal\x20speed\x20when\x20walking\x20on\x20ground'},{'id':_0x2485a5(0x1cd),'value':airControlAcceleration,'min':0.1,'max':0.5,'info':_0x2485a5(0x21d)},{'id':_0x2485a5(0x184),'value':wallBouncinessHigh,'min':0x1,'max':0x2,'info':_0x2485a5(0x1a5)},{'id':'wallBouncinessLow','value':wallBouncinessLow,'min':0x0,'max':0x1,'info':'Bounce\x20factor\x20when\x20hitting\x20wall\x20without\x20thrusting'},{'id':_0x2485a5(0x1f4),'value':characterRadius,'min':0x5,'max':0x14,'info':'Character\x20size\x20in\x20pixels'}];for(let _0x4ac5e2 of _0x27ef60){const _0x42e027=document[_0x2485a5(0x17a)](_0x2485a5(0x194));_0x42e027[_0x2485a5(0x1f7)]=_0x2485a5(0x1b3),_0x42e027['id']=_0x4ac5e2['id'],_0x42e027[_0x2485a5(0x16b)]=_0x4ac5e2[_0x2485a5(0x16b)],_0x42e027[_0x2485a5(0x160)]=_0x4ac5e2[_0x2485a5(0x160)],_0x42e027[_0x2485a5(0x196)]=(_0x4ac5e2[_0x2485a5(0x160)]-_0x4ac5e2['min'])/0x64,_0x42e027[_0x2485a5(0x1bf)]=_0x4ac5e2[_0x2485a5(0x1bf)];const _0xa953e7=document['createElement'](_0x2485a5(0x1d3));_0xa953e7[_0x2485a5(0x20c)]=_0x4ac5e2['id'],_0xa953e7[_0x2485a5(0x1e4)]=_0x4ac5e2['id']+'\x20'+parseFloat(_0x42e027[_0x2485a5(0x1bf)])[_0x2485a5(0x1d1)](0x4),_0xa953e7[_0x2485a5(0x159)][_0x2485a5(0x164)]=_0x2485a5(0x20b),document['getElementById']('ui')[_0x2485a5(0x1a8)](_0xa953e7),_0xa953e7[_0x2485a5(0x168)]=_0x4ac5e2[_0x2485a5(0x1cf)],_0xa953e7[_0x2485a5(0x157)]=_0x2485a5(0x1cf),document['getElementById']('ui')[_0x2485a5(0x1a8)](document[_0x2485a5(0x17a)]('br')),document[_0x2485a5(0x1e1)]('ui')[_0x2485a5(0x1a8)](_0x42e027),document[_0x2485a5(0x1e1)]('ui')[_0x2485a5(0x1a8)](document[_0x2485a5(0x17a)]('br')),_0x42e027[_0x2485a5(0x1f1)](_0x2485a5(0x194),_0x38f447=>{const _0x29cf74=_0x2485a5;eval(_0x4ac5e2['id']+_0x29cf74(0x162)+_0x38f447[_0x29cf74(0x15e)][_0x29cf74(0x1bf)]+';'),_0xa953e7[_0x29cf74(0x1e4)]=_0x4ac5e2['id']+'\x20'+parseFloat(_0x42e027[_0x29cf74(0x1bf)])['toFixed'](0x4);}),_0x42e027['addEventListener'](_0x2485a5(0x206),()=>{_0x42e027['blur']();}),_0x42e027[_0x2485a5(0x159)][_0x2485a5(0x1fc)]='100%',document[_0x2485a5(0x1e1)]('ui')[_0x2485a5(0x159)][_0x2485a5(0x1ce)]=DEBUG?'block':_0x2485a5(0x15d);}});function normalizeAngle(_0x3051c3){return _0x3051c3>Math['PI']*0x2&&(_0x3051c3-=Math['PI']*0x2),_0x3051c3<0x0&&(_0x3051c3+=Math['PI']*0x2),_0x3051c3;}function lineIntersectsLine(_0x5ab5a9,_0x573e13,_0x39d7df,_0x44e70a){const _0x5a64ba=(_0x44e70a['y']-_0x39d7df['y'])*(_0x573e13['x']-_0x5ab5a9['x'])-(_0x44e70a['x']-_0x39d7df['x'])*(_0x573e13['y']-_0x5ab5a9['y']);if(_0x5a64ba===0x0)return null;const _0x32facf=((_0x44e70a['x']-_0x39d7df['x'])*(_0x5ab5a9['y']-_0x39d7df['y'])-(_0x44e70a['y']-_0x39d7df['y'])*(_0x5ab5a9['x']-_0x39d7df['x']))/_0x5a64ba,_0x49448e=((_0x573e13['x']-_0x5ab5a9['x'])*(_0x5ab5a9['y']-_0x39d7df['y'])-(_0x573e13['y']-_0x5ab5a9['y'])*(_0x5ab5a9['x']-_0x39d7df['x']))/_0x5a64ba;if(_0x32facf>0x0&&_0x32facf<0x1&&_0x49448e>0x0&&_0x49448e<0x1)return{'x':_0x5ab5a9['x']+_0x32facf*(_0x573e13['x']-_0x5ab5a9['x']),'y':_0x5ab5a9['y']+_0x32facf*(_0x573e13['y']-_0x5ab5a9['y'])};return null;}function blockLineSegments(_0x11a70d){const _0x37ca34=a0_0x1ae245,_0x43d225={'x':_0x11a70d['x']-0xa,'y':_0x11a70d['y']+0xa},_0x587b44={'x':_0x11a70d['x']+_0x11a70d[_0x37ca34(0x1fc)]-0xa,'y':_0x11a70d['y']-0xa},_0x3f357d={'x':_0x11a70d['x']+_0x11a70d['width']+0xa,'y':_0x11a70d['y']+_0x11a70d[_0x37ca34(0x208)]-0xa},_0xf7b17={'x':_0x11a70d['x']+0xa,'y':_0x11a70d['y']+_0x11a70d[_0x37ca34(0x208)]+0xa};return[{'startPoint':_0x43d225,'endPoint':_0x587b44},{'startPoint':_0x587b44,'endPoint':_0x3f357d},{'startPoint':_0x3f357d,'endPoint':_0xf7b17},{'startPoint':_0xf7b17,'endPoint':_0x43d225}];}function circleIntersectsLine(_0x491016,_0x2b5522,_0x52141d){const _0x2cf9a9=a0_0x1ae245,_0x53f331={'x':_0x52141d[_0x2cf9a9(0x213)]['x']-_0x52141d[_0x2cf9a9(0x1f2)]['x'],'y':_0x52141d[_0x2cf9a9(0x213)]['y']-_0x52141d[_0x2cf9a9(0x1f2)]['y']},_0x453190={'x':_0x491016['x']-_0x52141d[_0x2cf9a9(0x1f2)]['x'],'y':_0x491016['y']-_0x52141d[_0x2cf9a9(0x1f2)]['y']},_0x18bcc5=_0x453190['x']*_0x53f331['x']+_0x453190['y']*_0x53f331['y'],_0x16b4ad=_0x53f331['x']*_0x53f331['x']+_0x53f331['y']*_0x53f331['y'];let _0x545758=_0x16b4ad===0x0?0x0:_0x18bcc5/_0x16b4ad;const _0x4d3038=Math[_0x2cf9a9(0x160)](0x0,Math[_0x2cf9a9(0x16b)](0x1,_0x545758)),_0xb79b81=_0x52141d['startPoint']['x']+_0x4d3038*_0x53f331['x'],_0x535788=_0x52141d['startPoint']['y']+_0x4d3038*_0x53f331['y'],_0x965dce=_0xb79b81-_0x491016['x'],_0x201666=_0x535788-_0x491016['y'],_0x347aa1=_0x965dce*_0x965dce+_0x201666*_0x201666,_0x1b8f8c=_0x2b5522*_0x2b5522;if(_0x347aa1<=_0x1b8f8c)return{'x':_0xb79b81,'y':_0x535788};return null;}function distance(_0x1bebbc,_0x53c44a,_0x3c6adc,_0x3dbe4e){return Math['sqrt']((_0x3c6adc-_0x1bebbc)*(_0x3c6adc-_0x1bebbc)+(_0x3dbe4e-_0x53c44a)*(_0x3dbe4e-_0x53c44a));}function animationStep(){const _0x42739a=a0_0x1ae245;characterMode===_0x42739a(0x1e9)&&(characterSpriteFrame<0x4&&(characterSpriteFrameTime+=0x1,characterSpriteFrameTime>0xa&&(characterSpriteFrame+=0x1,characterSpriteFrameTime=0x0)),characterSpriteImage=images['characterOrbit'+characterSpriteFrame],characterSpriteRotation=angle+0x3*Math['PI']/0x2);characterMode===_0x42739a(0x1f8)&&(characterSpriteFrame>0x1&&(characterSpriteFrameTime+=0x1,characterSpriteFrameTime>0xa&&(characterSpriteFrame-=0x1,characterSpriteFrameTime=0x0)),characterSpriteImage=images['characterOrbit'+characterSpriteFrame],characterSpriteRotation+=dx*0.025);if(characterMode===_0x42739a(0x219)){characterStance===_0x42739a(0x222)&&(characterSpriteFrame=0x1,characterSpriteImage=images['characterLand'+characterSpriteFrame],characterSpriteFrameTime+=0x1,characterSpriteFrameTime>0x10&&(characterStance=_0x42739a(0x1ec)));characterStance==='stand'&&(characterSpriteRotation=0x0,leftArrowKeyDown&&(characterSpriteXScale=-0x1),rightArrowKeyDown&&(characterSpriteXScale=0x1),characterSpriteImage=images[_0x42739a(0x18b)],(leftArrowKeyDown||rightArrowKeyDown)&&(characterSpriteImage=images[_0x42739a(0x1e7)+characterSpriteFrame],characterSpriteFrameTime+=0x1,characterSpriteFrameTime>0x6&&(characterSpriteFrameTime=0x0,characterSpriteFrame+=0x1,characterSpriteFrame>0x8&&(characterSpriteFrame=0x1))));if(characterStance===_0x42739a(0x1d2)){characterSpriteRotation=0x0;if(leftWall&&leftWall[_0x42739a(0x1b0)]['y']<=wallJumpWallNormalYThreshold&&leftArrowKeyDown)characterSpriteFrame=0x1,characterSpriteImage=images[_0x42739a(0x19b)+characterSpriteFrame],characterSpriteXScale=-0x1,characterSpriteRotation=leftWall[_0x42739a(0x1ea)]+Math['PI']/0x2*0x3;else{if(rightWall&&rightWall[_0x42739a(0x1b0)]['y']<=wallJumpWallNormalYThreshold&&rightArrowKeyDown)characterSpriteFrame=0x1,characterSpriteImage=images['characterWallSlide'+characterSpriteFrame],characterSpriteXScale=0x1,characterSpriteRotation=rightWall[_0x42739a(0x1ea)]+Math['PI']/0x2*0x1;else{leftArrowKeyDown&&(characterSpriteXScale=-0x1);rightArrowKeyDown&&(characterSpriteXScale=0x1);if(dy<-0x1)characterSpriteFrame=0x1;else{if(dy>=-0x1&&dy<-0.2)characterSpriteFrame=0x2;else{if(dy>=-0.2&&dy<=0.2)characterSpriteFrame=0x3;else{if(dy>0.2&&dy<=0x1)characterSpriteFrame=0x4;else dy>0x1&&(characterSpriteFrame=0x5);}}}characterSpriteImage=images[_0x42739a(0x209)+characterSpriteFrame];}}}}}function a0_0x55f0(){const _0x86f2f=['buffer','webkitAudioContext','src','sprites/Sprite-0010.png','KeyB','sprites/Sprite-0019.png','split','createBufferSource','getElementById','sounds/221539__unfa__melee-attack-3-edited2.wav','Rope\x20shoot\x20speed','innerText','rgba(255,\x20255,\x20255,\x20','decodeAudioData','characterRun','sqrt','orbit','angle','innerWidth','stand','sprites/Sprite-0018.png','sprites/Sprite-0005.png','\x27\x20not\x20loaded\x20yet\x20or\x20doesn\x27t\x20exist.','shift','addEventListener','startPoint','All\x20sounds\x20loaded\x20with\x20Web\x20Audio\x20API','characterRadius','bulletSpeed','No\x20points\x20found\x20for\x20Solid-','type','fly','location','connect','life','width','sprites/Sprite-0004.png','Max\x20tries\x20exceeded\x20in\x20platformer\x20collision\x20(','sprites/Sprite-0017.png','cos','ArrowUp','tiles/tile_','Gravity','156410rFZHRO','jumpVelocity','mouseleave','sprites/Sprite-0011.png','height','characterJump','image','10px','for','code','points','descendThrust','sign','sprites/Sprite-0013.png','rgb(0,\x200,\x200)','endPoint','Initial\x20vertical\x20speed\x20on\x20ground\x20jump\x20(Jump\x20height)','sprites/Sprite-0007.png','margin','bounce11','shoot','platform','canvas','map_map.svg','error','Acceleration\x20for\x20horizontal\x20movement\x20in\x20air','sprites/Sprite-0001.png','1698OzNpun','direction','image/svg+xml','land','Solid','warn','then','className','status','style','pop','fillText','AudioContext','none','target','sin','max','destination','\x20=\x20','Minimum\x20rope\x20length','fontSize','ArrowDown','abs','Sound\x20\x27','title','log','random','min','text','padding','sprites/Sprite-0021.png','3575396khZdcM','KeyD','sprites/Sprite-0012.png','keys','KeyW','ArrowRight','Space\x20pressed\x20count\x20>\x201:','floor','walkTopSpeed','KeyR','body','createElement','fake','sprites/hook1.png','children','documentElement','8MQpneP','sounds/Impact.wav','ceil','point','Maximum\x20rope\x20length','wallBouncinessHigh','KeyS','push','Solid-','Multiple\x20orbit\x20points\x20with\x20same\x20angle\x20difference','21VbQZVs','playbackRate','characterStand1','line','FPS:\x20','pow','atan2','107752hQUtVg','round','sounds/Impact2.wav','maxOrbitalSpeed','input','Initial\x20vertical\x20speed\x20on\x20wall\x20jump\x20(Wall\x20jump\x20height)','step','innerHeight','HTTP\x20error!\x20status:\x20','splice','TimeScale:\x20','characterWallSlide','sounds/Deflect\x20SND117402-11.wav','getContext','sprites/Sprite-0006.png','Downward\x20thrust\x20when\x20rope\x20attached\x20(pulling\x20in)','damping','keyup','.png','font','attach','Bounce\x20factor\x20when\x20hitting\x20wall\x20while\x20actively\x20thrusting','sprites/Sprite-0015.png','gain','appendChild','includes','orbitGravity','fillStyle','All\x20images\x20loaded','map','Maximum\x20speed\x20when\x20rope\x20attached','keydown','normal','378249eUKQnk','volume','range','208166lkiJnl','minRopeLength','Tile\x20size\x20mismatch\x20for\x20tile\x20','getAttribute','Left/right\x20thrust\x20when\x20rope\x20attached','sprites/Sprite-0020.png','search','concat','start','dead','has','value','ArrowLeft','DOMContentLoaded','144SuSbap','onload','maxRopeLength','sprites/Sprite-0016.png','95740jRBTfx','radius','No\x20shared\x20corner\x20found\x20for\x20two\x20intersections:','length','sprites/Sprite-0008.png','impact','More\x20than\x20two\x20intersections\x20detected:','airControlAcceleration','display','info','sprites/Sprite-0009.png','toFixed','jump','label','4605yfNDTV','KeyA','red','Upward\x20thrust\x20when\x20rope\x20attached\x20(releasing\x20out)','catch'];a0_0x55f0=function(){return _0x86f2f;};return a0_0x55f0();}function particleStep(){const _0xa4a73c=a0_0x1ae245;for(let _0x57c1b8=particles['length']-0x1;_0x57c1b8>=0x0;_0x57c1b8--){let _0x25f1ad=particles[_0x57c1b8];_0x25f1ad[_0xa4a73c(0x196)](_0x25f1ad),_0x25f1ad[_0xa4a73c(0x1bd)]&&particles[_0xa4a73c(0x199)](_0x57c1b8,0x1);}}function characterTrailStep(){const _0xbcaf1=a0_0x1ae245;if(characterMode===_0xbcaf1(0x1e9)){stepCount%0x4===0x0&&(trailPoints[_0xbcaf1(0x186)]({'x':characterPoint['x']+characterRadius*Math[_0xbcaf1(0x200)](angle),'y':characterPoint['y']+characterRadius*Math['sin'](angle)}),trailPoints[_0xbcaf1(0x1c9)]>0x6&&trailPoints[_0xbcaf1(0x1f0)]());;}else stepCount%0x2===0x0&&trailPoints[_0xbcaf1(0x1f0)]();}function bulletStep(){const _0x322a26=a0_0x1ae245;bulletPoint&&(bulletPoint['x']+=bulletSpeed*Math['cos'](bulletAngle),bulletPoint['y']+=bulletSpeed*Math[_0x322a26(0x15f)](bulletAngle),distance(bulletPoint['x'],bulletPoint['y'],characterPoint['x'],characterPoint['y'])>maxRopeLength&&(bulletPoint=null));if(bulletPoint){let _0x23e4cb=null;for(let _0x38afe1 of linesInView){let _0x29cec0=lineIntersectsLine(characterPoint,bulletPoint,_0x38afe1[_0x322a26(0x1f2)],_0x38afe1[_0x322a26(0x213)]);_0x29cec0&&(!_0x23e4cb?_0x23e4cb=_0x29cec0:distance(characterPoint['x'],characterPoint['y'],_0x29cec0['x'],_0x29cec0['y'])<distance(characterPoint['x'],characterPoint['y'],_0x23e4cb['x'],_0x23e4cb['y'])&&(_0x23e4cb=_0x29cec0));}if(_0x23e4cb){const _0x3927f3=0.5;playSound(_0x322a26(0x1a4),{'playbackRate':0x1-_0x3927f3/0x2+Math[_0x322a26(0x16a)]()*_0x3927f3}),bulletPoint=null,characterMode=_0x322a26(0x1e9),characterSpriteFrame=0x4;const _0x4885a1=Math[_0x322a26(0x18f)](characterPoint['y']-_0x23e4cb['y'],characterPoint['x']-_0x23e4cb['x']),_0x582bc7={'x':Math[_0x322a26(0x200)](_0x4885a1),'y':Math[_0x322a26(0x15f)](_0x4885a1)};orbitPoint={'x':_0x23e4cb['x']+_0x582bc7['x'],'y':_0x23e4cb['y']+_0x582bc7['y']},radius=distance(orbitPoint['x'],orbitPoint['y'],characterPoint['x'],characterPoint['y']),radius<minRadius&&(radius=minRadius),angle=Math[_0x322a26(0x18f)](characterPoint['y']-orbitPoint['y'],characterPoint['x']-orbitPoint['x']),angle>Math['PI']*0x2&&(angle-=Math['PI']*0x2),angle<0x0&&(angle+=Math['PI']*0x2),angularVelocity=(dx*-Math['sin'](angle)+dy*Math['cos'](angle))/radius,Math[_0x322a26(0x166)](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math[_0x322a26(0x210)](angularVelocity)*maxOrbitalSpeed/radius);}}}function cameraStep(){const _0x102917=a0_0x1ae245;cameraTargetPoint={'x':characterPoint['x']+cameraLookaheadPoint['x'],'y':characterPoint['y']+cameraLookaheadPoint['y']};const _0x61db02={'x':0x144c,'y':0xe28},_0x527bcd={'x':canvas[_0x102917(0x1fc)]/0x2/zoomLevel,'y':canvas['height']/0x2/zoomLevel},_0x3a78f3={'x':_0x61db02['x']-canvas[_0x102917(0x1fc)]/0x2/zoomLevel,'y':_0x61db02['y']-canvas[_0x102917(0x208)]/0x2/zoomLevel};cameraTargetPoint['x']<_0x527bcd['x']&&(cameraTargetPoint['x']=_0x527bcd['x']);cameraTargetPoint['y']<_0x527bcd['y']&&(cameraTargetPoint['y']=_0x527bcd['y']);cameraTargetPoint['x']>_0x3a78f3['x']&&(cameraTargetPoint['x']=_0x3a78f3['x']);cameraTargetPoint['y']>_0x3a78f3['y']&&(cameraTargetPoint['y']=_0x3a78f3['y']);const _0x42f525={'x':cameraTargetPoint['x']-cameraPoint['x'],'y':cameraTargetPoint['y']-cameraPoint['y']};let _0x17c590={'x':Math['sign'](_0x42f525['x'])*Math[_0x102917(0x166)](Math[_0x102917(0x18e)](_0x42f525['x']*1.6,0x4))/Math[_0x102917(0x166)](Math[_0x102917(0x18e)](canvas[_0x102917(0x1fc)],0x3)),'y':Math[_0x102917(0x210)](_0x42f525['y'])*Math[_0x102917(0x166)](Math[_0x102917(0x18e)](_0x42f525['y']*1.6,0x4))/Math[_0x102917(0x166)](Math['pow'](canvas[_0x102917(0x208)],0x3))};Math[_0x102917(0x166)](_0x17c590['x'])>cameraMaxSpeed&&(_0x17c590['x']=Math['sign'](_0x17c590['x'])*cameraMaxSpeed),Math[_0x102917(0x166)](_0x17c590['y'])>cameraMaxSpeed&&(_0x17c590['y']=Math[_0x102917(0x210)](_0x17c590['y'])*cameraMaxSpeed),cameraPoint['x']+=_0x17c590['x'],cameraPoint['y']+=_0x17c590['y'];}function step(){const _0x3809a0=a0_0x1ae245;previousCharacterPoint={'x':characterPoint['x'],'y':characterPoint['y']},previousCameraPoint={'x':cameraPoint['x'],'y':cameraPoint['y']},previousBulletPoint=bulletPoint?{'x':bulletPoint['x'],'y':bulletPoint['y']}:null,animationStep(),particleStep(),characterTrailStep(),bulletStep(),cameraStep();if(characterMode===_0x3809a0(0x1e9))orbitStep();else{if(characterMode===_0x3809a0(0x1f8))platformStep();else characterMode===_0x3809a0(0x219)&&platformStep();}}function flyStep(){const _0x4a2397=a0_0x1ae245;if(characterMode===_0x4a2397(0x1f8)){if(spacePressedCount>0x0){if(!bulletPoint){playSound('shoot'),bulletPoint={'x':characterPoint['x'],'y':characterPoint['y']},bulletAngle=normalizeAngle(Math['PI']*0x2-releaseAngle);if(bulletAngle>Math['PI']/0x2*0x3+bulletMaxAngleOffset||bulletAngle<Math['PI']/0x2)bulletAngle=Math['PI']/0x2*0x3+bulletMaxAngleOffset;else bulletAngle<Math['PI']/0x2*0x3-bulletMaxAngleOffset&&(bulletAngle=Math['PI']/0x2*0x3-bulletMaxAngleOffset);}}let _0xedd53e=orbitGravity+(Math[_0x4a2397(0x18e)](0x1+Math[_0x4a2397(0x166)](dx),0x2)-0x1)/Math[_0x4a2397(0x18e)](0xa,0x3);dy<0x0&&(_0xedd53e*=0.9),dy+=_0xedd53e;}const _0x1d0232=Math[_0x4a2397(0x1e8)](dx*dx+dy*dy),_0x23acac=Math[_0x4a2397(0x181)](_0x1d0232/(characterRadius/0x2));for(let _0x598506=0x0;_0x598506<_0x23acac;_0x598506++){let _0x3ba67b=0x5;_0xa3b49f:while(!![]){const _0x5b8b59={'x':characterPoint['x']+dx/_0x23acac,'y':characterPoint['y']+dy/_0x23acac};let _0x3ee81=[];for(let _0x2f9e99 of linesInView){let _0x2d79f5=normalizeAngle(_0x2f9e99[_0x4a2397(0x1ea)]+Math['PI']/0x2),_0x31919e=normalizeAngle(Math[_0x4a2397(0x18f)](dy,dx)),_0x189375=_0x2d79f5-_0x31919e;_0x189375>Math['PI']&&(_0x189375-=Math['PI']*0x2);_0x189375<-Math['PI']&&(_0x189375+=Math['PI']*0x2);if(Math[_0x4a2397(0x166)](_0x189375)>=Math['PI']/0x2)continue;const _0xa3d0d9=circleIntersectsLine(_0x5b8b59,characterRadius,_0x2f9e99);if(_0xa3d0d9){const _0x4115d6=Math[_0x4a2397(0x18f)](_0x2f9e99[_0x4a2397(0x213)]['y']-_0x2f9e99[_0x4a2397(0x1f2)]['y'],_0x2f9e99[_0x4a2397(0x213)]['x']-_0x2f9e99[_0x4a2397(0x1f2)]['x']),_0x5e40f9={'x':-Math[_0x4a2397(0x15f)](_0x4115d6),'y':Math[_0x4a2397(0x200)](_0x4115d6)},_0x55aa48=dx*_0x5e40f9['x']+dy*_0x5e40f9['y'];_0x55aa48>0x0&&(_0x5e40f9['x']=-_0x5e40f9['x'],_0x5e40f9['y']=-_0x5e40f9['y']),_0x3ee81[_0x4a2397(0x186)]({'point':_0xa3d0d9,'line':_0x2f9e99,'normal':_0x5e40f9});}};if(_0x3ee81[_0x4a2397(0x1c9)]===0x0){characterPoint=_0x5b8b59;break _0xa3b49f;}for(let _0x59a5c7 of _0x3ee81){let _0x1821e2=_0x59a5c7[_0x4a2397(0x182)];const _0x2542d8=_0x59a5c7[_0x4a2397(0x1b0)];if(_0x2542d8['y']<-0.5){const _0x3b401a=Math['sqrt'](dx*dx+dy*dy);_0x3b401a<0x14&&(playSound(_0x4a2397(0x222)),characterMode=_0x4a2397(0x219),characterStance='land',characterSpriteFrameTime=0x0,characterSpriteFrame=0x1,characterSpriteRotation=0x0,characterSpriteXScale=0x1,dx=0x0,dy=0x0);}const _0x81ccfe=dx*_0x2542d8['x']+dy*_0x2542d8['y'];dx-=1.5*_0x81ccfe*_0x2542d8['x'],dy-=1.5*_0x81ccfe*_0x2542d8['y'],dx*=0.8,dy*=0.8;const _0x1c1177=Math[_0x4a2397(0x166)](_0x81ccfe);if(_0x1c1177>0.3){playSound(_0x4a2397(0x1cb));const _0x38941b=0x8;for(let _0x57cecc=0x0;_0x57cecc<_0x38941b;_0x57cecc++){const _0x2cd04a=Math['atan2'](_0x2542d8['y'],_0x2542d8['x']),_0x4f60e4=Math['PI']*1.2,_0x252590=_0x2cd04a-_0x4f60e4/0x2+_0x4f60e4/(_0x38941b-0x1)*_0x57cecc,_0x2a73dc=0.4;particles['push']({'x':_0x1821e2['x']+Math['random']()*characterRadius*0x3-characterRadius*0x3/0x2,'y':_0x1821e2['y']+Math[_0x4a2397(0x16a)]()*characterRadius*0x3-characterRadius*0x3/0x2,'dx':Math[_0x4a2397(0x200)](_0x252590)*_0x2a73dc,'dy':Math['sin'](_0x252590)*_0x2a73dc,'radius':0x2,'life':0xe,'color':solidColor,'step':function(_0x3aa0a2){const _0x2d07cb=_0x4a2397;_0x3aa0a2['life']--,_0x3aa0a2[_0x2d07cb(0x1fb)]<=0x0&&(_0x3aa0a2[_0x2d07cb(0x1bd)]=!![]),_0x3aa0a2['dy']+=0.1,_0x3aa0a2['x']+=_0x3aa0a2['dx'],_0x3aa0a2['y']+=_0x3aa0a2['dy'];}});}};}_0x3ba67b-=0x1;if(_0x3ba67b<=0x0){console[_0x4a2397(0x21c)](_0x4a2397(0x1fe)+dx+',\x20'+dy+')'),characterPoint=_0x5b8b59;break _0xa3b49f;}}}const _0x1fd08c=Math[_0x4a2397(0x1e8)](dx*dx+dy*dy);_0x1fd08c>1.5&&particles[_0x4a2397(0x186)]({'x':characterPoint['x'],'y':characterPoint['y'],'radius':characterRadius,'color':'rgba(255,\x20255,\x20255,\x200.006)','life':0x6,'dead':![],'step':function(_0xd6fa45){const _0xafb1b9=_0x4a2397;_0xd6fa45[_0xafb1b9(0x1fb)]--,_0xd6fa45[_0xafb1b9(0x1fb)]<=0x0&&(_0xd6fa45[_0xafb1b9(0x1bd)]=!![]),_0xd6fa45[_0xafb1b9(0x1c7)]-=0.009,_0xd6fa45['x']+=(Math[_0xafb1b9(0x16a)]()-0.5)*0.5,_0xd6fa45['y']+=(Math[_0xafb1b9(0x16a)]()-0.5)*0.5;}});;}function platformStep(){const _0x3144df=a0_0x1ae245;wallJumpTimer>0x0&&(wallJumpTimer-=0x1);wallJumpTimer<0x0&&(wallJumpTimer+=0x1);let _0x2239a8=null;leftWall=null,rightWall=null;let _0x366be0=[];for(let _0x3ff0bc of linesInView){const _0x140e90=circleIntersectsLine(characterPoint,characterRadius+0x1,_0x3ff0bc);_0x140e90&&_0x366be0['push']({'point':_0x140e90,'line':_0x3ff0bc});}_0x366be0[_0x3144df(0x1c9)]>0x2&&console['error'](_0x3144df(0x1cc),_0x366be0);if(_0x366be0[_0x3144df(0x1c9)]===0x2){let _0x1a24ec=null;_0x366be0[0x0][_0x3144df(0x18c)][_0x3144df(0x1f2)]['x']===_0x366be0[0x1][_0x3144df(0x18c)][_0x3144df(0x213)]['x']&&_0x366be0[0x0]['line'][_0x3144df(0x1f2)]['y']===_0x366be0[0x1]['line'][_0x3144df(0x213)]['y']&&(_0x1a24ec=_0x366be0[0x0][_0x3144df(0x18c)][_0x3144df(0x1f2)]);_0x366be0[0x0][_0x3144df(0x18c)][_0x3144df(0x213)]['x']===_0x366be0[0x1][_0x3144df(0x18c)][_0x3144df(0x1f2)]['x']&&_0x366be0[0x0]['line'][_0x3144df(0x213)]['y']===_0x366be0[0x1][_0x3144df(0x18c)][_0x3144df(0x1f2)]['y']&&(_0x1a24ec=_0x366be0[0x0][_0x3144df(0x18c)][_0x3144df(0x213)]);if(_0x1a24ec==null)console[_0x3144df(0x21c)](_0x3144df(0x1c8),_0x366be0);else{}};let _0x47cb90=null;for(let _0x23664f of _0x366be0){const _0x77507f=_0x23664f[_0x3144df(0x18c)];if(_0x77507f[_0x3144df(0x1b0)]['y']<-0.5||_0x77507f[_0x3144df(0x17b)]){const _0xb812b8=normalizeAngle(Math[_0x3144df(0x18f)](_0x77507f[_0x3144df(0x1b0)]['y'],_0x77507f['normal']['x'])),_0x427e3c=normalizeAngle(Math['atan2'](characterPoint['y']-_0x23664f[_0x3144df(0x182)]['y'],characterPoint['x']-_0x23664f[_0x3144df(0x182)]['x'])),_0x22a98b=_0xb812b8-_0x427e3c;(_0x47cb90===null||Math[_0x3144df(0x166)](_0x22a98b)<Math[_0x3144df(0x166)](_0x47cb90))&&(_0x2239a8=_0x77507f,_0x47cb90=_0x22a98b);}else _0x77507f['normal']['x']>0.5&&((characterPoint['x']-_0x77507f[_0x3144df(0x1f2)]['x'])*_0x77507f[_0x3144df(0x1b0)]['x']+(characterPoint['y']-_0x77507f['startPoint']['y'])*_0x77507f[_0x3144df(0x1b0)]['y']>0x0&&(leftWall=_0x77507f)),_0x77507f[_0x3144df(0x1b0)]['x']<-0.5&&((characterPoint['x']-_0x77507f[_0x3144df(0x1f2)]['x'])*_0x77507f[_0x3144df(0x1b0)]['x']+(characterPoint['y']-_0x77507f['startPoint']['y'])*_0x77507f['normal']['y']>0x0&&(rightWall=_0x77507f));};_0x2239a8&&Math['abs'](_0x47cb90)>0.5&&(_0x2239a8=null,dx-=Math[_0x3144df(0x210)](_0x47cb90)*0.01);characterMode===_0x3144df(0x219)&&(!_0x2239a8&&characterStance!==_0x3144df(0x222)&&(characterStance=_0x3144df(0x1d2)));if(_0x2239a8&&dy>=0x0){characterStance!==_0x3144df(0x222)&&(characterStance=_0x3144df(0x1ec));;groundLine=_0x2239a8;}if(characterMode===_0x3144df(0x1f8)){if(spacePressedCount>0x0){if(!bulletPoint){playSound(_0x3144df(0x218)),bulletPoint={'x':characterPoint['x'],'y':characterPoint['y']},bulletAngle=normalizeAngle(Math['PI']*0x2-releaseAngle);if(bulletAngle>Math['PI']/0x2*0x3+bulletMaxAngleOffset||bulletAngle<Math['PI']/0x2)bulletAngle=Math['PI']/0x2*0x3+bulletMaxAngleOffset;else bulletAngle<Math['PI']/0x2*0x3-bulletMaxAngleOffset&&(bulletAngle=Math['PI']/0x2*0x3-bulletMaxAngleOffset);}}let _0x3b9b65=orbitGravity+(Math[_0x3144df(0x18e)](0x1+Math[_0x3144df(0x166)](dx),0x2)-0x1)/Math['pow'](0xa,0x3);dy<0x0&&(_0x3b9b65*=0.9),dy+=_0x3b9b65;}if(characterMode===_0x3144df(0x219)){if(characterStance===_0x3144df(0x1ec))dx=0x0,dy=0x0,leftArrowKeyDown&&(!leftWall&&(dx=-Math[_0x3144df(0x200)](groundLine['angle'])*walkTopSpeed,dy=-Math[_0x3144df(0x15f)](groundLine[_0x3144df(0x1ea)])*walkTopSpeed)),rightArrowKeyDown&&(!rightWall&&(dx=Math[_0x3144df(0x200)](groundLine[_0x3144df(0x1ea)])*walkTopSpeed,dy=Math['sin'](groundLine[_0x3144df(0x1ea)])*walkTopSpeed)),spacePressedCount>0x0&&(dy=-jumpVelocity,characterStance=_0x3144df(0x1d2));else{if(characterStance==='jump'){dy+=orbitGravity;!leftArrowKeyDown&&!rightArrowKeyDown&&!leftWall&&!rightWall&&(dx*=0.95);leftArrowKeyDown&&(!leftWall&&(dx>-walkTopSpeed&&(dx-=airControlAcceleration/-Math['min'](-0x1,wallJumpTimer/0x6))));rightArrowKeyDown&&(!rightWall&&(dx<walkTopSpeed&&(dx+=airControlAcceleration/Math[_0x3144df(0x160)](0x1,wallJumpTimer/0x6))));if(spacePressedCount>0x0){if(leftWall&&leftWall[_0x3144df(0x1b0)]['y']<=wallJumpWallNormalYThreshold&&leftArrowKeyDown)wallJumpTimer=-0x14,dy=-wallJumpVelocity,dx=walkTopSpeed;else rightWall&&rightWall[_0x3144df(0x1b0)]['y']<=wallJumpWallNormalYThreshold&&rightArrowKeyDown?(wallJumpTimer=0x14,dy=-wallJumpVelocity,dx=-walkTopSpeed):!bulletPoint&&(playSound(_0x3144df(0x218)),bulletPoint={'x':characterPoint['x'],'y':characterPoint['y']},bulletAngle=Math['PI']/0x2*0x3,characterSpriteXScale===0x1&&(bulletAngle+=bulletMaxAngleOffset),characterSpriteXScale===-0x1&&(bulletAngle-=bulletMaxAngleOffset),upArrowKeyDown&&!leftArrowKeyDown&&!rightArrowKeyDown&&(bulletAngle=Math['PI']/0x2*0x3));}}}}const _0x2e1c53=Math[_0x3144df(0x1e8)](dx*dx+dy*dy),_0x54b1d9=Math[_0x3144df(0x181)](_0x2e1c53/(characterRadius/0x2));for(let _0x2c895b=0x0;_0x2c895b<_0x54b1d9;_0x2c895b++){let _0x572477=0x5;_0x279522:while(!![]){const _0x3e2285={'x':characterPoint['x']+dx/_0x54b1d9,'y':characterPoint['y']+dy/_0x54b1d9};let _0x18ece9=[];for(let _0x88234c of linesInView){let _0x2578bd=normalizeAngle(_0x88234c[_0x3144df(0x1ea)]+Math['PI']/0x2),_0x3ad6db=normalizeAngle(Math[_0x3144df(0x18f)](dy,dx)),_0x3f2a49=_0x2578bd-_0x3ad6db;_0x3f2a49>Math['PI']&&(_0x3f2a49-=Math['PI']*0x2);_0x3f2a49<-Math['PI']&&(_0x3f2a49+=Math['PI']*0x2);if(Math[_0x3144df(0x166)](_0x3f2a49)>=Math['PI']/0x2)continue;const _0x3adf7b=circleIntersectsLine(_0x3e2285,characterRadius,_0x88234c);if(_0x3adf7b){const _0x71758=Math[_0x3144df(0x18f)](_0x88234c[_0x3144df(0x213)]['y']-_0x88234c[_0x3144df(0x1f2)]['y'],_0x88234c[_0x3144df(0x213)]['x']-_0x88234c[_0x3144df(0x1f2)]['x']),_0x4d90bb={'x':-Math[_0x3144df(0x15f)](_0x71758),'y':Math[_0x3144df(0x200)](_0x71758)},_0x40db31=dx*_0x4d90bb['x']+dy*_0x4d90bb['y'];_0x40db31>0x0&&(_0x4d90bb['x']=-_0x4d90bb['x'],_0x4d90bb['y']=-_0x4d90bb['y']),_0x18ece9[_0x3144df(0x186)]({'point':_0x3adf7b,'line':_0x88234c,'normal':_0x4d90bb});}};if(_0x18ece9['length']===0x0){characterPoint=_0x3e2285;break _0x279522;}for(let _0x4e7a0b of _0x18ece9){const _0x273336=_0x4e7a0b[_0x3144df(0x1b0)],_0x289aaa=_0x4e7a0b[_0x3144df(0x182)],_0x439e9f=dx*-_0x273336['x']+dy*-_0x273336['y'];if(characterMode===_0x3144df(0x1f8)&&_0x439e9f<=0xf&&_0x273336['y']<-0.5)playSound(_0x3144df(0x222)),characterMode=_0x3144df(0x219),characterStance=_0x3144df(0x222),characterSpriteFrameTime=0x0,characterSpriteFrame=0x1,characterSpriteRotation=0x0,characterSpriteXScale=0x1,dx=0x0,dy=0x0;else{if(characterMode===_0x3144df(0x1f8)&&_0x439e9f>0x5){const _0x265952=dx*_0x273336['x']+dy*_0x273336['y'];dx-=1.5*_0x265952*_0x273336['x'],dy-=1.5*_0x265952*_0x273336['y'],dx*=0.8,dy*=0.8,playSound(_0x3144df(0x1cb));const _0x47d6aa=0x8;for(let _0x32341d=0x0;_0x32341d<_0x47d6aa;_0x32341d++){const _0x2b3f30=Math[_0x3144df(0x18f)](_0x273336['y'],_0x273336['x']),_0x8cae22=Math['PI']*1.2,_0x3cc872=_0x2b3f30-_0x8cae22/0x2+_0x8cae22/(_0x47d6aa-0x1)*_0x32341d,_0x2fd2c7=0.4;particles[_0x3144df(0x186)]({'x':_0x289aaa['x']+Math[_0x3144df(0x16a)]()*characterRadius*0x3-characterRadius*0x3/0x2,'y':_0x289aaa['y']+Math[_0x3144df(0x16a)]()*characterRadius*0x3-characterRadius*0x3/0x2,'dx':Math[_0x3144df(0x200)](_0x3cc872)*_0x2fd2c7,'dy':Math['sin'](_0x3cc872)*_0x2fd2c7,'radius':0x2,'life':0xe,'color':solidColor,'step':function(_0x306993){const _0x488d49=_0x3144df;_0x306993[_0x488d49(0x1fb)]--,_0x306993[_0x488d49(0x1fb)]<=0x0&&(_0x306993[_0x488d49(0x1bd)]=!![]),_0x306993['dy']+=0.1,_0x306993['x']+=_0x306993['dx'],_0x306993['y']+=_0x306993['dy'];}});}}else{const _0x43bf0b=distance(_0x3e2285['x'],_0x3e2285['y'],_0x4e7a0b[_0x3144df(0x182)]['x'],_0x4e7a0b[_0x3144df(0x182)]['y']),_0x387d9c={'x':(_0x4e7a0b[_0x3144df(0x18c)]['endPoint']['x']-_0x4e7a0b[_0x3144df(0x18c)][_0x3144df(0x1f2)]['x'])/_0x4e7a0b[_0x3144df(0x18c)][_0x3144df(0x1c9)],'y':(_0x4e7a0b['line'][_0x3144df(0x213)]['y']-_0x4e7a0b[_0x3144df(0x18c)][_0x3144df(0x1f2)]['y'])/_0x4e7a0b['line'][_0x3144df(0x1c9)]},_0x37398a=dx*_0x387d9c['x']+dy*_0x387d9c['y'];dx=_0x387d9c['x']*_0x37398a,dy=_0x387d9c['y']*_0x37398a;}}}_0x572477-=0x1;if(_0x572477<=0x0){console[_0x3144df(0x21c)](_0x3144df(0x1fe)+dx+',\x20'+dy+')'),characterPoint=_0x3e2285;break _0x279522;}}}}function a0_0x5895(_0x5547af,_0x2908a7){const _0x55f0a9=a0_0x55f0();return a0_0x5895=function(_0x5895c7,_0x1bdfa6){_0x5895c7=_0x5895c7-0x157;let _0x27b236=_0x55f0a9[_0x5895c7];return _0x27b236;},a0_0x5895(_0x5547af,_0x2908a7);}function orbitStep(){const _0x1d696d=a0_0x1ae245;let _0x5ea27e=radius,_0x3232f0={'x':orbitPoint['x'],'y':orbitPoint['y']};leftArrowKeyPressed&&(characterSpriteXScale=-0x1);rightArrowKeyPressed&&(characterSpriteXScale=0x1);!leftArrowKeyPressed&&!rightArrowKeyPressed&&!(leftArrowKeyDown&&rightArrowKeyDown)&&(leftArrowKeyDown&&(characterSpriteXScale=-0x1),rightArrowKeyDown&&(characterSpriteXScale=0x1));leftArrowKeyDown&&(angle<Math['PI']?angularVelocity+=Math[_0x1d696d(0x15f)](angle)*thrust/radius:angularVelocity-=Math[_0x1d696d(0x15f)](angle)*thrust/radius);rightArrowKeyDown&&(angle<Math['PI']?angularVelocity-=Math[_0x1d696d(0x15f)](angle)*thrust/radius:angularVelocity+=Math[_0x1d696d(0x15f)](angle)*thrust/radius);Math[_0x1d696d(0x166)](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math[_0x1d696d(0x210)](angularVelocity)*maxOrbitalSpeed/radius);let _0x5ce016=0x0;upArrowKeyDown&&(_0x5ce016-=ascendThrust);downArrowKeyDown&&(_0x5ce016+=descendThrust);if(_0x5ce016!==0x0){let _0x516a0f={'x':orbitPoint['x']+(radius+_0x5ce016)*Math[_0x1d696d(0x200)](angle),'y':orbitPoint['y']+(radius+_0x5ce016)*Math[_0x1d696d(0x15f)](angle)},_0x46cab7=null;for(let _0x916664 of linesInView){_0x46cab7=circleIntersectsLine(_0x516a0f,characterRadius,_0x916664);if(_0x46cab7)break;}!_0x46cab7&&(radius+=_0x5ce016,radius+ropeLength>maxRopeLength&&(radius=maxRopeLength-ropeLength),radius+ropeLength<minRopeLength&&(radius=minRopeLength-ropeLength),angularVelocity*=Math[_0x1d696d(0x18e)](_0x5ea27e/radius,0x2),Math[_0x1d696d(0x166)](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math['sign'](angularVelocity)*maxOrbitalSpeed/radius));}if(spacePressedCount>0x0){releaseAngle=angle,characterMode=_0x1d696d(0x1f8),ropeSegments=[],ropeLength=0x0,dx=angularVelocity*radius*-Math[_0x1d696d(0x15f)](angle)+_0x5ce016*Math[_0x1d696d(0x200)](angle),dy=angularVelocity*radius*Math['cos'](angle)+_0x5ce016*Math[_0x1d696d(0x15f)](angle);return;}angularVelocity+=Math['cos'](angle)*orbitGravity/radius,angularVelocity*=damping;Math['abs'](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math['sign'](angularVelocity)*maxOrbitalSpeed/radius);const _0x468f56=Math[_0x1d696d(0x166)](angularVelocity*radius),_0x132d53=Math[_0x1d696d(0x181)](_0x468f56/(characterRadius/0x2));for(let _0x1af755=0x0;_0x1af755<_0x132d53;_0x1af755++){const _0x2ae17d=angle;angle+=angularVelocity/_0x132d53;angle>Math['PI']*0x2&&(angle-=Math['PI']*0x2);angle<0x0&&(angle+=Math['PI']*0x2);characterPoint['x']=orbitPoint['x']+radius*Math['cos'](angle),characterPoint['y']=orbitPoint['y']+radius*Math[_0x1d696d(0x15f)](angle);for(let _0x5e34dd of linesInView){let _0x16da9c=circleIntersectsLine(characterPoint,characterRadius,_0x5e34dd);if(_0x16da9c){angle=_0x2ae17d;leftArrowKeyDown||rightArrowKeyDown?angularVelocity=-angularVelocity*wallBouncinessHigh:angularVelocity=-angularVelocity*wallBouncinessLow;Math['abs'](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math[_0x1d696d(0x210)](angularVelocity)*maxOrbitalSpeed/radius);characterPoint['x']=orbitPoint['x']+radius*Math[_0x1d696d(0x200)](angle),characterPoint['y']=orbitPoint['y']+radius*Math[_0x1d696d(0x15f)](angle);const _0x4c6964=Math[_0x1d696d(0x18f)](_0x5e34dd[_0x1d696d(0x213)]['y']-_0x5e34dd[_0x1d696d(0x1f2)]['y'],_0x5e34dd[_0x1d696d(0x213)]['x']-_0x5e34dd[_0x1d696d(0x1f2)]['x']),_0x18a960=particles['find'](_0x1ce263=>Math['floor'](_0x1ce263['x'])==Math[_0x1d696d(0x176)](_0x16da9c['x'])&&Math['floor'](_0x1ce263['y'])==Math[_0x1d696d(0x176)](_0x16da9c['y'])&&_0x1ce263[_0x1d696d(0x1c7)]<0x46),_0x4f0a9f=Math[_0x1d696d(0x166)](angularVelocity)*radius;if(!_0x18a960&&_0x4f0a9f>0x1){leftArrowKeyDown||rightArrowKeyDown?(characterSpriteFrame=0x1,playSound(_0x1d696d(0x217),{'playbackRate':1.3})):playSound(_0x1d696d(0x217),{'playbackRate':0.9,'volume':Math[_0x1d696d(0x16b)](0x5*_0x4f0a9f/maxOrbitalSpeed,0x1)});const _0x11f78f=0.2;particles[_0x1d696d(0x186)]({'x':_0x16da9c['x'],'y':_0x16da9c['y'],'radius':characterRadius,'color':_0x1d696d(0x1e5)+_0x11f78f+')','step':function(_0x471966){const _0x52263b=_0x1d696d,_0x419935=Math[_0x52263b(0x16b)](Math[_0x52263b(0x166)](angularVelocity)*radius*0xa,0x46);_0x471966[_0x52263b(0x1c7)]+=(_0x419935-_0x471966[_0x52263b(0x1c7)])/0xa;const _0x566872=Math[_0x52263b(0x160)](0x0,_0x11f78f*(0x1-_0x471966[_0x52263b(0x1c7)]/_0x419935));_0x471966['color']='rgba(255,\x20255,\x20255,\x20'+_0x566872+')',_0x471966['radius']>_0x419935-0.5&&(_0x471966[_0x52263b(0x1bd)]=!![]);}});}}}if(ropeSegments[_0x1d696d(0x1c9)]>0x0){let _0x1cbca0={'x':ropeSegments[ropeSegments[_0x1d696d(0x1c9)]-0x1]?.[_0x1d696d(0x1f2)]['x'],'y':ropeSegments[ropeSegments[_0x1d696d(0x1c9)]-0x1]?.[_0x1d696d(0x1f2)]['y']},_0x21f493=Math[_0x1d696d(0x18f)](ropeSegments[ropeSegments[_0x1d696d(0x1c9)]-0x1]?.[_0x1d696d(0x213)]['y']-ropeSegments[ropeSegments[_0x1d696d(0x1c9)]-0x1]?.[_0x1d696d(0x1f2)]['y'],ropeSegments[ropeSegments['length']-0x1]?.[_0x1d696d(0x213)]['x']-ropeSegments[ropeSegments[_0x1d696d(0x1c9)]-0x1]?.[_0x1d696d(0x1f2)]['x']),_0x5c65d4=angle-_0x21f493;_0x5c65d4>Math['PI']&&(_0x5c65d4-=Math['PI']*0x2),_0x5c65d4<-Math['PI']&&(_0x5c65d4+=Math['PI']*0x2),Math['sign'](_0x5c65d4)===ropeSegments[ropeSegments['length']-0x1]?.[_0x1d696d(0x220)]&&(orbitPoint={'x':_0x1cbca0['x'],'y':_0x1cbca0['y']},radius=distance(orbitPoint['x'],orbitPoint['y'],characterPoint['x'],characterPoint['y']),radius<minRadius&&(radius=minRadius),angularVelocity=_0x5ea27e*angularVelocity/radius,Math[_0x1d696d(0x166)](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math[_0x1d696d(0x210)](angularVelocity)*maxOrbitalSpeed/radius),ropeSegments[_0x1d696d(0x15a)](),ropeLength-=distance(_0x3232f0['x'],_0x3232f0['y'],orbitPoint['x'],orbitPoint['y']));}let _0x512985=null;const _0x1a5942=[];for(let _0x1232bd of linesInView){const _0x3f9498=lineIntersectsLine(orbitPoint,characterPoint,_0x1232bd[_0x1d696d(0x1f2)],_0x1232bd[_0x1d696d(0x213)]);_0x3f9498&&(_0x1a5942[_0x1d696d(0x186)]({'x':_0x1232bd['startPoint']['x'],'y':_0x1232bd[_0x1d696d(0x1f2)]['y'],'distance':distance(_0x3f9498['x'],_0x3f9498['y'],_0x1232bd['startPoint']['x'],_0x1232bd[_0x1d696d(0x1f2)]['y'])}),_0x1a5942[_0x1d696d(0x186)]({'x':_0x1232bd['endPoint']['x'],'y':_0x1232bd[_0x1d696d(0x213)]['y'],'distance':distance(_0x3f9498['x'],_0x3f9498['y'],_0x1232bd['endPoint']['x'],_0x1232bd[_0x1d696d(0x213)]['y'])}));}for(let _0x1c4ea9=0x0;_0x1c4ea9<_0x1a5942[_0x1d696d(0x1c9)];_0x1c4ea9++){for(let _0x115d30=_0x1c4ea9+0x1;_0x115d30<_0x1a5942[_0x1d696d(0x1c9)];_0x115d30++){_0x1a5942[_0x1c4ea9]['x']===_0x1a5942[_0x115d30]['x']&&_0x1a5942[_0x1c4ea9]['y']===_0x1a5942[_0x115d30]['y']&&(_0x1a5942[_0x1d696d(0x199)](_0x115d30,0x1),_0x115d30--);}}let _0x141e89=null,_0x1bc82f=null;for(let _0x5ece7e of _0x1a5942){let _0x1663b1=Math['atan2'](_0x5ece7e['y']-orbitPoint['y'],_0x5ece7e['x']-orbitPoint['x']),_0x38fbab=_0x1663b1-angle;_0x38fbab>Math['PI']&&(_0x38fbab-=Math['PI']*0x2);_0x38fbab<-Math['PI']&&(_0x38fbab+=Math['PI']*0x2);Math[_0x1d696d(0x210)](_0x38fbab)===Math[_0x1d696d(0x210)](angularVelocity)&&(_0x38fbab=0x0);_0x141e89&&Math[_0x1d696d(0x166)](_0x38fbab)===Math['abs'](_0x141e89)&&console[_0x1d696d(0x21c)](_0x1d696d(0x188));;(!_0x141e89||Math[_0x1d696d(0x166)](_0x38fbab)>Math['abs'](_0x141e89))&&(_0x141e89=_0x38fbab,_0x1bc82f=_0x5ece7e);}if(_0x1bc82f){orbitPoint=_0x1bc82f,radius=distance(orbitPoint['x'],orbitPoint['y'],characterPoint['x'],characterPoint['y']);radius<minRadius&&(radius=minRadius);angularVelocity=_0x5ea27e*angularVelocity/radius;Math[_0x1d696d(0x166)](angularVelocity)*radius>maxOrbitalSpeed&&(angularVelocity=Math[_0x1d696d(0x210)](angularVelocity)*maxOrbitalSpeed/radius);let _0x174655=_0x2ae17d-angle;_0x174655>Math['PI']&&(_0x174655-=Math['PI']*0x2),_0x174655<-Math['PI']&&(_0x174655+=Math['PI']*0x2),ropeSegments[_0x1d696d(0x186)]({'startPoint':{'x':_0x3232f0['x'],'y':_0x3232f0['y']},'endPoint':{'x':orbitPoint['x'],'y':orbitPoint['y']},'direction':Math[_0x1d696d(0x210)](_0x174655)}),ropeLength+=distance(_0x3232f0['x'],_0x3232f0['y'],orbitPoint['x'],orbitPoint['y']);}}}window[a0_0x1ae245(0x1f1)](a0_0x1ae245(0x1af),_0x54d4dd=>{const _0x4e2d62=a0_0x1ae245;(_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x1c0)||_0x54d4dd['code']===_0x4e2d62(0x1d5))&&(leftArrowKeyDown=!![],leftArrowKeyPressed=!![]),(_0x54d4dd['code']==='ArrowRight'||_0x54d4dd['code']==='KeyD')&&(rightArrowKeyDown=!![],rightArrowKeyPressed=!![]),(_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x201)||_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x173))&&(upArrowKeyDown=!![]),(_0x54d4dd[_0x4e2d62(0x20d)]==='ArrowDown'||_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x185))&&(downArrowKeyDown=!![]),_0x54d4dd[_0x4e2d62(0x20d)]==='Space'&&(spacePressedCount+=0x1),_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x1dd)&&(bKeyDown=!![]),_0x54d4dd[_0x4e2d62(0x20d)]===_0x4e2d62(0x178)&&(timeCountStopped=![],stepCount=0x0,characterPoint={'x':0x10e,'y':0x163},cameraPoint={'x':0x10e,'y':0x163},dx=0x0,dy=0x0,angle=Math['PI']+0.7,angularVelocity=0x0,characterMode=_0x4e2d62(0x1f8),orbitPoint=null,ropeSegments=[],ropeLength=0x0,bulletPoint=null,bulletAngle=null);}),window[a0_0x1ae245(0x1f1)](a0_0x1ae245(0x1a1),_0x206483=>{const _0x492120=a0_0x1ae245;(_0x206483[_0x492120(0x20d)]===_0x492120(0x1c0)||_0x206483[_0x492120(0x20d)]===_0x492120(0x1d5))&&(leftArrowKeyDown=![]),(_0x206483[_0x492120(0x20d)]===_0x492120(0x174)||_0x206483[_0x492120(0x20d)]===_0x492120(0x170))&&(rightArrowKeyDown=![]),(_0x206483[_0x492120(0x20d)]===_0x492120(0x201)||_0x206483[_0x492120(0x20d)]===_0x492120(0x173))&&(upArrowKeyDown=![]),(_0x206483[_0x492120(0x20d)]===_0x492120(0x165)||_0x206483['code']===_0x492120(0x185))&&(downArrowKeyDown=![]),_0x206483[_0x492120(0x20d)]===_0x492120(0x1dd)&&(bKeyDown=![]);});function animate(_0x23128d){const _0x39a318=a0_0x1ae245;if(!previousTimestamp)previousTimestamp=_0x23128d;let _0xcb18b4=_0x23128d-previousTimestamp;_0xcb18b4>MAX_DELTA_TIME&&(_0xcb18b4=MAX_DELTA_TIME);characterMode===_0x39a318(0x1f8)?timeScale=0x1:timeScale=0x1;const _0x372fd5=_0xcb18b4*timeScale;stepAccumulator+=_0x372fd5;while(stepAccumulator>=STEP_SIZE){stepAccumulator-=STEP_SIZE,step(),stepCount++,spacePressedCount>0x1&&console['warn'](_0x39a318(0x175),spacePressedCount),spacePressedCount>0x0&&(spacePressedCount-=0x1),leftArrowKeyPressed=![],rightArrowKeyPressed=![];}const _0x63ded2=stepAccumulator/STEP_SIZE;render(_0x63ded2),_0x23128d&&(ctx[_0x39a318(0x1ab)]=_0x39a318(0x1d6),ctx[_0x39a318(0x1a3)]='16px\x20Arial',ctx['fillText'](_0x39a318(0x18d)+Math[_0x39a318(0x191)](0x3e8/_0xcb18b4),0xa,0x14),ctx[_0x39a318(0x15b)](_0x39a318(0x19a)+timeScale[_0x39a318(0x1d1)](0x2),0xa,0x28)),previousTimestamp=_0x23128d,requestAnimationFrame(animate);}function loadSound(_0x9dbcc5,_0x54ef6e){const _0x68aab=a0_0x1ae245;fetch(_0x54ef6e)[_0x68aab(0x225)](_0x1389c0=>{const _0x16c051=_0x68aab;if(!_0x1389c0['ok'])throw new Error(_0x16c051(0x198)+_0x1389c0[_0x16c051(0x158)]);return _0x1389c0['arrayBuffer']();})[_0x68aab(0x225)](_0x153e3a=>audioContext[_0x68aab(0x1e6)](_0x153e3a))[_0x68aab(0x225)](_0x25cdcb=>{const _0x2a8dcf=_0x68aab;audioBuffers[_0x9dbcc5]=_0x25cdcb,soundsLoaded++,soundsLoaded===totalSounds&&console[_0x2a8dcf(0x169)](_0x2a8dcf(0x1f3));})[_0x68aab(0x1d8)](_0x22dd44=>{const _0x57d42a=_0x68aab;console[_0x57d42a(0x21c)]('Error\x20loading\x20or\x20decoding\x20sound\x20\x27'+_0x9dbcc5+'\x27:',_0x22dd44);});}function playSound(_0x188e92,_0x29516e){const _0x4f2a13=a0_0x1ae245;_0x29516e=_0x29516e||{};const _0xab6916=audioBuffers[_0x188e92];if(_0xab6916){const _0x48bec5=audioContext[_0x4f2a13(0x1e0)](),_0x35f0f5=audioContext['createGain']();_0x35f0f5[_0x4f2a13(0x1a7)][_0x4f2a13(0x1bf)]=_0x29516e[_0x4f2a13(0x1b2)]||0x1,_0x35f0f5[_0x4f2a13(0x1fa)](audioContext[_0x4f2a13(0x161)]),_0x48bec5[_0x4f2a13(0x1fa)](_0x35f0f5),_0x48bec5[_0x4f2a13(0x1d9)]=_0xab6916,_0x48bec5[_0x4f2a13(0x18a)][_0x4f2a13(0x1bf)]=_0x29516e['playbackRate']||0x1,_0x48bec5[_0x4f2a13(0x1bc)](0x0);}else console[_0x4f2a13(0x224)](_0x4f2a13(0x167)+_0x188e92+_0x4f2a13(0x1ef));}for(let key in soundFiles){loadSound(key,soundFiles[key]);}const images={};let imagesLoaded=0x0;const totalImages=Object[a0_0x1ae245(0x172)](imageFiles)['length'];for(let key in imageFiles){images[key]=new Image(),images[key][a0_0x1ae245(0x1db)]=imageFiles[key],images[key][a0_0x1ae245(0x1c3)]=()=>{const _0x27e592=a0_0x1ae245;imagesLoaded++,imagesLoaded===totalImages&&console[_0x27e592(0x169)](_0x27e592(0x1ac));};}document['addEventListener'](a0_0x1ae245(0x1c1),()=>{requestAnimationFrame(animate);});function getTileKeysInView(){const _0x351bb8=a0_0x1ae245,_0x5b3c99=canvas[_0x351bb8(0x1fc)]/zoomLevel,_0x279ca4=canvas[_0x351bb8(0x208)]/zoomLevel,_0x53fe10=tileWidth,_0x4f6383=tileHeight,_0x7e29d1={'x':cameraPoint['x']-_0x5b3c99/0x2-_0x53fe10,'y':cameraPoint['y']-_0x279ca4/0x2-_0x4f6383},_0x369135={'x':cameraPoint['x']+_0x5b3c99/0x2+_0x53fe10,'y':cameraPoint['y']+_0x279ca4/0x2+_0x4f6383},_0x354b2f={'x':Math[_0x351bb8(0x176)](_0x7e29d1['x']/tileWidth),'y':Math['floor'](_0x7e29d1['y']/tileHeight)},_0x29953f={'x':Math[_0x351bb8(0x176)](_0x369135['x']/tileWidth),'y':Math['floor'](_0x369135['y']/tileHeight)},_0x43da1b=[];for(let _0x553a04=_0x354b2f['y'];_0x553a04<=_0x29953f['y'];_0x553a04++){for(let _0x65f5f0=_0x354b2f['x'];_0x65f5f0<=_0x29953f['x'];_0x65f5f0++){_0x65f5f0>=0x0&&_0x553a04>=0x0&&_0x43da1b[_0x351bb8(0x186)](_0x65f5f0+','+_0x553a04);}}return _0x43da1b;}function refreshTiles(){const _0x30f803=a0_0x1ae245,_0x4968ca=getTileKeysInView();for(let _0x5d00c2 of _0x4968ca){if(!tiles[_0x5d00c2]){const [_0x54b9ab,_0x5f3973]=_0x5d00c2[_0x30f803(0x1df)](',')[_0x30f803(0x1ad)](Number);tiles[_0x5d00c2]={'x':_0x54b9ab*tileWidth,'y':_0x5f3973*tileHeight,'image':null};const _0x1f46aa=new Image();_0x1f46aa[_0x30f803(0x1db)]=_0x30f803(0x202)+_0x54b9ab+'-'+_0x5f3973+_0x30f803(0x1a2),_0x1f46aa[_0x30f803(0x1c3)]=()=>{const _0x801b03=_0x30f803;tiles[_0x5d00c2]&&((tileWidth!=_0x1f46aa[_0x801b03(0x1fc)]||tileHeight!=_0x1f46aa['height'])&&console[_0x801b03(0x224)](_0x801b03(0x1b6)+_0x54b9ab+','+_0x5f3973+':\x20expected\x20'+tileWidth+'x'+tileHeight+',\x20got\x20'+_0x1f46aa[_0x801b03(0x1fc)]+'x'+_0x1f46aa[_0x801b03(0x208)]),tiles[_0x5d00c2][_0x801b03(0x20a)]=_0x1f46aa);};}}for(let _0x45d2bb of Object[_0x30f803(0x172)](tiles)){!_0x4968ca[_0x30f803(0x1a9)](_0x45d2bb)&&(tiles[_0x45d2bb]['image']=null,delete tiles[_0x45d2bb]);}}let svgDoc=null;fetch(a0_0x1ae245(0x21b))[a0_0x1ae245(0x225)](_0x3bed21=>_0x3bed21[a0_0x1ae245(0x16c)]())[a0_0x1ae245(0x225)](_0x2d235e=>{const _0x37eece=a0_0x1ae245,_0x1a11bf=new DOMParser();svgDoc=_0x1a11bf['parseFromString'](_0x2d235e,_0x37eece(0x221));function _0x229a59(_0x59e1ef){const _0x452790=_0x37eece;_0x59e1ef['id']&&console['log']('Found\x20element\x20with\x20id:\x20'+_0x59e1ef['id']);for(let _0x32307f of _0x59e1ef[_0x452790(0x17d)]){_0x229a59(_0x32307f);}}_0x229a59(svgDoc[_0x37eece(0x17e)]);for(let _0x123eb5=0x1;_0x123eb5<0x64;_0x123eb5++){let _0x4c3838;_0x123eb5==0x1?_0x4c3838=svgDoc[_0x37eece(0x1e1)](_0x37eece(0x223)):_0x4c3838=svgDoc[_0x37eece(0x1e1)](_0x37eece(0x187)+_0x123eb5);if(!_0x4c3838)break;let _0xa8bcf8=null;_0x4c3838&&_0x4c3838['getAttribute']('points')&&(_0xa8bcf8=_0x4c3838['getAttribute'](_0x37eece(0x20e)));_0x4c3838[_0x37eece(0x17d)][0x0]&&_0x4c3838[_0x37eece(0x17d)][0x0][_0x37eece(0x1b7)](_0x37eece(0x20e))&&(_0xa8bcf8=_0x4c3838['children'][0x0][_0x37eece(0x1b7)](_0x37eece(0x20e)));if(!_0xa8bcf8){console[_0x37eece(0x224)](_0x37eece(0x1f6)+_0x123eb5);continue;}const _0x269c79=pointsToLineSegments(_0xa8bcf8);allLines=allLines[_0x37eece(0x1bb)](_0x269c79);}linesInView=allLines;});function pointsToLineSegments(_0x1ea3e0){const _0x6fd6e=a0_0x1ae245,_0x3c215e=_0x1ea3e0['trim']()[_0x6fd6e(0x1df)]('\x20'),_0x5aa0af=_0x3c215e[_0x6fd6e(0x1c9)]/0x2;let _0x53bbab=[];for(let _0x756255=0x0;_0x756255<=_0x5aa0af;_0x756255++){const _0x1dc225={'x':0x8c0,'y':0x686},_0x17ec21={'x':Math['round'](parseFloat(_0x3c215e[_0x756255%_0x5aa0af*0x2]),0x0)-_0x1dc225['x'],'y':Math[_0x6fd6e(0x191)](parseFloat(_0x3c215e[_0x756255%_0x5aa0af*0x2+0x1]),0x0)-_0x1dc225['y']},_0x3107a4={'x':Math[_0x6fd6e(0x191)](parseFloat(_0x3c215e[(_0x756255+0x1)%_0x5aa0af*0x2]),0x0)-_0x1dc225['x'],'y':Math[_0x6fd6e(0x191)](parseFloat(_0x3c215e[(_0x756255+0x1)%_0x5aa0af*0x2+0x1]),0x0)-_0x1dc225['y']},_0x1cd832=Math[_0x6fd6e(0x18f)](_0x17ec21['y']-_0x3107a4['y'],_0x17ec21['x']-_0x3107a4['x']),_0x321630=distance(_0x17ec21['x'],_0x17ec21['y'],_0x3107a4['x'],_0x3107a4['y']),_0x347424={'x':Math[_0x6fd6e(0x200)](_0x1cd832-Math['PI']/0x2),'y':Math[_0x6fd6e(0x15f)](_0x1cd832-Math['PI']/0x2),'angle':_0x1cd832-Math['PI']/0x2},_0xc10d59=_0x53bbab['length'];_0x53bbab['push']({'startPoint':_0x3107a4,'endPoint':_0x17ec21,'angle':_0x1cd832,'index':_0xc10d59,'length':_0x321630,'normal':_0x347424});}return _0x53bbab;}